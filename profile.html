<!DOCTYPE HTML>
<html>
	<head>
		<title>Welcome to Thespotlightnews, Enjoy Articles, news and more..</title>
		<meta charset="utf-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no" />
		<link rel="stylesheet" href="assets/css/main.css" />
		<noscript><link rel="stylesheet" href="assets/css/noscript.css" /></noscript>
   <style>
        body {
            transition: background-color 0.5s, color 0.5s;
        }

        .profile-container,
        .writing-container {
            text-align: center;
            background-color: #111111;
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
            max-width: 600px;
            margin: auto;
            margin-top: 20px;
            position: relative;
            color: #fff;
            font-family: 'Arial', sans-serif;
        }

        .profile-container img {
            border-radius: 50%;
            width: 80px;
            height: 80px;
        }

        .profile-container button,
        .writing-container button,
        .theme-toggle {
            margin-top: 10px;
            background-color: #444;
            color: white;
            border: none;
            padding: 10px 20px;
            cursor: pointer;
            border-radius: 5px;
            transition: background-color 0.3s;
        }

        .writing-container textarea {
            width: 100%;
            height: 200px;
            margin-top: 10px;
            padding: 10px;
            border-radius: 4px;
            border: 1px solid #ccc;
        }

        .library-container img {
            width: 100px;
            height: 150px;
            margin: 10px;
            cursor: pointer;
        }

        .theme-toggle {
            position: absolute;
            top: 10px;
            right: 10px;
            background-color: #444;
            color: white;
            border: none;
            padding: 10px;
            border-radius: 50%;
            cursor: pointer;
        }

        #dark-mode-toggle {
            position: fixed;
            bottom: 20px;
            right: 20px;
            background-color: #444;
            color: white;
            border: none;
            padding: 10px;
            border-radius: 50%;
            cursor: pointer;
        }

        footer {
            margin-top: 40px;
        }
    </style>
</head>
	</head>
	<body class="is-preload">

		<!-- Page Wrapper -->
			<div id="page-wrapper">

				<!-- Header -->
					<header id="header">
						<h1><a href="index.html">The Spotlight News</a></h1>
						<nav>
							<a href="#menu">Menu</a>
						</nav>
					</header>

				<!-- Menu -->
					<nav id="menu">
						<div class="inner">
							<h2>Menu</h2>
							<ul class="links">
								<li><a href="index.html">Home</a></li>
								<li><a href="generic.html">Articles</a></li>
								<li><a href="elements.html">Elements</a></li>
								<li><a href="login-page.html">Log In</a></li>
								<li><a href="login-page.html">Sign Up</a></li>
							</ul>
							<a href="#" class="close">Close</a>
						</div>
					</nav>


        <!-- Main -->
        <div id="main" class="wrapper style1">
            <div class="container">
                <header class="major">
                    <h1>Welcome to SpotlightNews, <span id="user-name"></span>!</h1>
                </header>

            <!-- Profile Section -->
<section id="profile-section">
    <div class="profile-container">
        <button class="theme-toggle">ðŸŒ™</button>
        <div style="text-align: center;">
            <img id="profile-photo" src="https://via.placeholder.com/100" alt="Profile Picture" style="width: 100px; height: 100px; border-radius: 50%;" />
        </div>
        <p>Email: <span id="user-email"></span></p>
        <p>Username: <span id="user-username"></span></p>
        <p>Articles: N/A</p>
        <p>Level: <span id="user-level">Beginner</span></p>
        <button id="edit-profile" class="btn btn-primary mt-3">Edit Profile</button>
        <button id="logout" class="btn btn-danger mt-2">Logout</button>
        <hr />
        <p style="font-size: 0.9em; color: #555;">Don't have a link for an image to display on your profile? Go to <a href="https://postimg.cc" target="_blank">postimg.cc</a>, upload an image, get the link, and paste it here. Your image will automatically display after refreshing.</p>
    </div>
</section>

	<!-- Writing Prompt and Textbox Section -->
<section id="writing-textbox">
    <div class="writing-container">
        <button class="theme-toggle">ðŸŒ™</button>
        <form id="story-form" action="https://formspree.io/f/mldrbpwo" method="POST">
            <h2>Writing Prompt</h2>
            <p>Before publishing your story, please ensure you've proofread and added all details.</p>
            <p id="writing-prompt">Click the button to get a new prompt!</p>
            <button type="button" id="new-prompt-btn">New Prompt</button>

            <!-- Author Details -->
            <div class="author-details">
                <label for="author-name">Author Name:</label>
                <input type="text" id="author-name" name="author-name" placeholder="Enter your name" required>
		<label for="author-bio">Author Bio:</label>
		<input type="text" id="author-bio" name="author-bio" placeholder="Enter short bio(third-person Pov)" required>
            </div>

            <!-- Text Formatting Toolbar -->
            <div id="toolbar">
                <button class="ql-bold">Bold</button>
                <button class="ql-italic">Italic</button>
                <button class="ql-underline">Underline</button>
                <button class="ql-align" value="">Align Left</button>
                <button class="ql-align" value="center">Align Center</button>
                <button class="ql-align" value="right">Align Right</button>
                <button class="ql-blockquote">Blockquote</button>
                <select class="ql-font">
                    <option value="Arial">Arial</option>
                    <option value="Times New Roman">Times New Roman</option>
                    <option value="Courier New">Courier New</option>
                    <option value="Georgia">Georgia</option>
                    <option value="Verdana">Verdana</option>
                </select>
                <button type="button" id="fullscreen-btn">Full Screen</button>
            </div>

		<!-- Quill Editor -->
            <div id="editor-container" style="height: 300px;"></div>
	    
            <!-- Grammar & Style Check Section -->
            <div id="grammar-check" style="margin-top: 20px; padding: 10px; border: 1px solid #ccc;">
            <h3>Grammar & Style Suggestions</h3>
	    <!-- Add the "Check Style" button -->
            <button id="check-style-btn">Check Style</button>
            <ul id="suggestions-list">
            <!-- Suggestions will be displayed here -->
            </ul>
          </div>
		
            <!-- Word Count -->
            <p id="word-count">Word count: 0</p>
	    <p id="congratulatory-message">Assistant: </p>

            <!-- Publish and Download Buttons -->
            <button type="submit" id="publish-story">Publish Story</button>
            <button type="button" id="download-story">Download as Text</button>
	    
	    


            <!-- Hidden input to store Quill content for form submission -->
            <input type="hidden" name="story-content" id="story-content">
        </form>
    </div>
</section>

<!-- Include Quill's CSS and JavaScript -->
<link href="https://cdn.quilljs.com/1.3.6/quill.snow.css" rel="stylesheet">
<script src="https://cdn.quilljs.com/1.3.6/quill.js"></script>

<!-- CSS for Buttons -->
<style>
    .tool-btn {
        padding: 5px 10px;
        font-size: 14px;
        cursor: pointer;
        border-radius: 4px;
        margin: 3px;
        border: none;
    }

    #fullscreen-btn {
        background-color: #32cd32; /* Lime Green */
        color: white;
    }

    button#publish-story, button#download-story {
        background-color: #007bff;
        color: white;
        padding: 8px 12px;
        border: none;
        border-radius: 5px;
        cursor: pointer;
        margin: 5px 0;
    }
	/* Ensure proper height for editor and change background color to gold */
#editor-container {
    border: 1px solid #ccc;
    height: 300px;
    padding: 10px;
    background-color: #000000; /* Gold background */
    color: black; /* Adjust text color for readability */
}

/* Text color within the editor */
.ql-editor {
    background-color: #000000; /* Gold background for editor's content */
    color: white; /* Black text for contrast */
}
</style>

<script src="https://cdnjs.cloudflare.com/ajax/libs/FileSaver.js/2.0.5/FileSaver.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jsPDF/2.4.0/jspdf.umd.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/docx/7.0.2/docx.min.js"></script>

<script>
    // Initialize Quill editor with toolbar
    var quill = new Quill('#editor-container', {
        modules: { toolbar: '#toolbar' },
        theme: 'snow'
    });

    // Update word count and show message
    quill.on('text-change', function() {
        const plainText = quill.getText().trim();
        const wordCount = plainText.length > 0 ? plainText.split(/\s+/).length : 0;
        document.getElementById('word-count').textContent = `Word count: ${wordCount}`;
        document.getElementById('congratulatory-message').innerText = getMessageForWordCount(wordCount);
    });

    // Function to get congratulatory message based on word count
    function getMessageForWordCount(wordCount) {
        if (wordCount >= 2000) return "Congratulations! You've reached 2000 words! Take a moment to celebrate, then edit and polish.";
        if (wordCount >= 1750) return "You're a rockstar writer! Keep shining!";
        if (wordCount >= 1500) return "Your story is a masterpiece! Take pride in your work!";
        if (wordCount >= 1300) return "You're a writing machine! Keep the words flowing!";
        if (wordCount >= 1250) return "Your dedication is paying off! Keep pushing forward!";
        if (wordCount >= 1200) return "Keep going! You're almost at the finish line!";
        if (wordCount >= 1150) return "You're getting close! Make sure to edit and revise before calling it done.";
        if (wordCount >= 1100) return "Your story is really taking shape! Consider getting feedback from beta readers.";
        if (wordCount >= 1050) return "Remember to check for grammar, punctuation, and spelling errors.";
        if (wordCount >= 1000) return "Wow, 1000 words! Take a break, then review for consistency and flow.";
        if (wordCount >= 850) return "Your writing is electrifying! Keep pushing the limits!";
        if (wordCount >= 800) return "You're on fire! Keep the momentum going!";
        if (wordCount >= 750) return "Don't forget to proofread and edit â€“ you're almost there!";
        if (wordCount >= 700) return "Breathtaking! Your story is a work of art!";
        if (wordCount >= 650) return "Stupendous! You're a writing sensation!";
        if (wordCount >= 600) return "Inspirational! Your writing is a true achievement!";
        if (wordCount >= 550) return "Bravo! Your dedication is paying off!";
        if (wordCount >= 500) return "Congratulations! You've written a masterpiece!";
        if (wordCount >= 450) return "Phenomenal! Keep pushing the boundaries!";
        if (wordCount >= 400) return "Magnificent! Your story is coming alive!";
        if (wordCount >= 350) return "Exceptional! You're making great progress!";
        if (wordCount >= 300) return "Sensational! Your writing is captivating!";
        if (wordCount >= 250) return "Unbelievable! You're a writing rockstar!";
        if (wordCount >= 200) return "Incredible! Keep up the fantastic work!";
        if (wordCount >= 150) return "Wow! You're really cooking now!";
        if (wordCount >= 125) return "Outstanding! Your creativity is shining!";
        if (wordCount >= 100) return "Amazing! You're a true writer!";
        if (wordCount >= 75) return "Fantastic! Your story is taking shape!";
        if (wordCount >= 50) return "Impressive! You're on a roll!";
        if (wordCount >= 25) return "Excellent! Your ideas are flowing!";
        if (wordCount >= 10) return "Great job! You're building momentum!";
        if (wordCount >= 1) return "You've started! Keep writing, you've got this!";
        return ""; // No message for 0 words
	}

	// Full-screen functionality
    document.getElementById('fullscreen-btn').addEventListener('click', function() {
        const editorContainer = document.getElementById('editor-container');
        if (editorContainer.requestFullscreen) {
            editorContainer.requestFullscreen().catch(err => console.error("Fullscreen error:", err));
        } else if (editorContainer.webkitRequestFullscreen) {
            editorContainer.webkitRequestFullscreen();
        } else if (editorContainer.mozRequestFullScreen) {
            editorContainer.mozRequestFullScreen();
        } else if (editorContainer.msRequestFullscreen) {
            editorContainer.msRequestFullscreen();
        } else {
            alert("Fullscreen is not supported in this browser.");
        }
    });

    // Download as text
    document.getElementById('download-story').addEventListener('click', function() {
        const plainText = quill.getText().trim();
        if (!plainText) {
            alert('Editor is empty! Please write something before downloading.');
            return;
        }
        const blob = new Blob([plainText], { type: 'text/plain' });
        const link = document.createElement('a');
        link.href = URL.createObjectURL(blob);
        link.download = 'your-story.txt';
        link.click();
    });
	// Grammar and Style Check
    document.getElementById('check-style-btn').addEventListener('click', function(e) {
        e.preventDefault();
        checkGrammarAndStyle();
    });

    function checkGrammarAndStyle() {
        const text = quill.getText();
        const suggestions = [];

        // Check for repeated words
        const repeatedWords = /\b(\w+)\s+\1\b/gi;
        const repeatedMatch = text.match(repeatedWords);
        if (repeatedMatch) {
            suggestions.push("Repeated word(s): " + repeatedMatch.join(', '));
        }

        // Check for long sentences
        const sentences = text.split(/[.!?]\s+/);
        sentences.forEach(sentence => {
            const wordCount = sentence.trim().split(/\s+/).length;
            if (wordCount > 20) {
                suggestions.push(`Long sentence detected: "${sentence.trim().substring(0, 50)}..." (${wordCount} words)`);
            }
        });

	// Check for common fillers
        const fillers = /\b(very|really|just|actually|literally|basically|kind of)\b/gi;
        const fillerMatch = text.match(fillers);
        if (fillerMatch) {
            suggestions.push("Consider removing filler words: " + fillerMatch.join(', '));
        }

        // Display suggestions
        const suggestionsList = document.getElementById('suggestions-list');
        suggestionsList.innerHTML = '';
        if (suggestions.length > 0) {
            suggestions.forEach(suggestion => {
                const listItem = document.createElement('li');
                listItem.textContent = suggestion;
                suggestionsList.appendChild(listItem);
            });
        } else {
            const listItem = document.createElement('li');
            listItem.textContent = "No suggestions! Your writing looks good.";
            suggestionsList.appendChild(listItem);
        }
    }

    // Handle form submission
    document.getElementById('publish-story').addEventListener('click', function(e) {
        e.preventDefault();
        const authorName = document.getElementById('author-name').value.trim();
        const authorBio = document.getElementById('author-bio').value.trim();
        const content = quill.root.innerHTML.trim();

        if (!authorName || !authorBio || !content) {
            alert('Please fill in all fields before submitting.');
            return;
        }

	// Set the Quill content in the hidden input
        document.getElementById('story-content').value = content;

        // Submit the form
        document.getElementById('story-form').submit();
    });
</script>
		    
        


<!-- Footer -->
					<section id="footer">
						<div class="inner">
							<h2 class="major">Get in touch</h2>
							<p>We'll love to hear from you.</p>
							<form method="post" action="https://formspree.io/f/myzgeagq" class="cta">
								<div class="fields">
									<div class="field">
										<label for="name">Name</label>
										<input type="text" name="name" id="name" />
									</div>
									<div class="field">
										<label for="email">Email</label>
										<input type="email" name="email" id="email" />
									</div>
									<div class="field">
										<label for="message">Message</label>
										<textarea name="message" id="message" rows="4"></textarea>
									</div>
								</div>
								<ul class="actions">
									<li><input type="submit" value="Send Message" /></li>
								</ul>
							</form>
							<ul class="contact">
								<li class="icon solid fa-home">
									Lagos, Nigeria<br />
									100428<br />
									Yaba.
								</li>
								<li class="icon solid fa-phone">(000) 000-0000</li>
								<li class="icon solid fa-envelope"><a href="mailto:philipsmith@consultant.com">Philipsmith@consultant.con</a></li>
								<li class="icon brands fa-twitter"><a href="https://x.com/AbrahamAmusan?t=iDhbJACnH7xlfmN_QHLPqg&s=09">X.com/AbrahamAmusan</a></li>
								<li class="icon brands fa-facebook-f"><a href="#">facebook.com/comingsoon</a></li>
								<li class="icon brands fa-instagram"><a href="#">instagram.com/comingsoon</a></li>
							</ul>
							<ul class="copyright">
								<li>&copy; Thespotlightblog. All rights reserved.</li><li>Design: <a href="https://wa.me/+2348159983206">Philip Smith</a></li>
							</ul>
						</div>
					</section>

			</div>

		<!-- Scripts -->
			<script src="assets/js/jquery.min.js"></script>
			<script src="assets/js/jquery.scrollex.min.js"></script>
			<script src="assets/js/browser.min.js"></script>
			<script src="assets/js/breakpoints.min.js"></script>
			<script src="assets/js/util.js"></script>
			<script src="assets/js/main.js"></script>
		        <script type="module">
    import { initializeApp } from "https://www.gstatic.com/firebasejs/10.12.4/firebase-app.js";
    import { getAuth, onAuthStateChanged, signOut, updateProfile } from "https://www.gstatic.com/firebasejs/10.12.4/firebase-auth.js";
    import { getFirestore, doc, getDoc, updateDoc } from "https://www.gstatic.com/firebasejs/10.12.4/firebase-firestore.js";

    // For Firebase JS SDK v7.20.0 and later, measurementId is optional
const firebaseConfig = {
  apiKey: "AIzaSyCsR1W5IyA0bQP16H2lIShdyAxQeoouzaE",
  authDomain: "thespotlightblog-a3f92.firebaseapp.com",
  projectId: "thespotlightblog-a3f92",
  storageBucket: "thespotlightblog-a3f92.firebasestorage.app",
  messagingSenderId: "301790739734",
  appId: "1:301790739734:web:790d0856a006b684e62437",
  measurementId: "G-E7WSWKC5M4"
};

    const app = initializeApp(firebaseConfig);
    const auth = getAuth();
    
function fetchNewPrompt() {
        const prompts = {
    "Christian fiction": [
        "A young woman, raised in doubt, experiences a life-altering miracle that not only transforms her but also becomes a beacon of hope for her struggling community.",
        "Explore the spiritual journey of a man grappling with deep-rooted guilt. Through unwavering faith and divine intervention, he finds redemption and becomes a pillar of strength for others.",
        "In a world ravaged by despair, a group of diverse individuals come together, united by their shared faith, to overcome insurmountable challenges and create a lasting impact on their society.",
        "A renowned scientist, skeptical of religious beliefs, embarks on a quest to find scientific proof of miracles. Instead, he undergoes a profound spiritual awakening that challenges his worldview.",
        "Write a story about a small town facing a devastating natural disaster. Amidst the chaos, a selfless act of faith inspires hope and resilience, leading to a miraculous recovery.",
        "A young orphan finds solace and purpose in a hidden monastery, where she discovers her true calling and becomes a catalyst for spiritual renewal within the monastery and beyond.",
        "Explore the complex relationship between faith and doubt through the eyes of a struggling pastor. As he confronts personal challenges, he rediscovers the power of belief and inspires his congregation.",
        "In a dystopian future where religion is outlawed, a secret underground church emerges, offering hope and resistance. Follow the journey of a young believer as they navigate a dangerous world.",
        "Write a story about a group of friends who embark on a pilgrimage to a sacred site. Along the way, they encounter personal trials and spiritual revelations that deepen their bond and faith.",
        "A renowned atheist writer is challenged to write a book about faith. Through extensive research and personal experiences, they undergo a transformative journey that leads to unexpected conclusions."
    ],
    "Racism": [
        "A talented Black athlete faces intense racial prejudice and discrimination as they strive to achieve their dreams. Explore the challenges they overcome and the impact they have on their community.",
        "In a small, predominantly white town, a young biracial woman grapples with her identity and experiences firsthand the harsh realities of racism. Follow her journey of self-discovery and resilience.",
        "A group of diverse activists come together to fight against systemic racism and inequality. Explore the challenges they face, the victories they achieve, and the impact of their work on society.",
        "A white police officer develops a deep-rooted conscience about the racial injustices within their department. Follow their internal struggle as they navigate a complex moral dilemma.",
        "A historical fiction story set during the Civil Rights Movement, focusing on the lives of ordinary people who risked everything to fight for equality. Explore the courage, sacrifice, and hope that fueled the movement.",
        "A young Black writer faces rejection and criticism due to their race and background. Follow their journey as they overcome obstacles and find their voice in the literary world.",
        "A workplace microaggressions and systemic biases that impact the lives of Black employees. Explore the challenges they face and the strategies they employ to create a more inclusive environment.",
        "A coming-of-age story about a mixed-race teenager navigating their identity and facing prejudice from both sides of their heritage. Explore their search for belonging and self-acceptance.",
        "A powerful drama exploring the complexities of interracial relationships and the challenges faced by couples who defy societal norms. Focus on the love, resilience, and strength required to overcome prejudice.",
        "A thought-provoking exploration of the lasting impact of historical racism on present-day society. Examine the systemic issues and the individual stories that highlight the ongoing struggle for racial justice."
    ],
    "Fantasy": [
        "In a world where magic is intertwined with technology, a young inventor discovers a hidden power that could reshape the world. Follow their journey as they navigate a dangerous world filled with mythical creatures and ancient secrets.",
        "A group of unlikely heroes, each with unique magical abilities, embark on a quest to defeat a powerful dark wizard who threatens to plunge the kingdom into eternal darkness.",
        "Explore a world where dreams are tangible and can be harnessed as a powerful force. Follow the story of a young dreamer who discovers their extraordinary abilities and the challenges that come with them.",
        "In a realm where mythical creatures coexist with humans, a young woman forms an unlikely bond with a dragon. Together, they must protect their world from a growing evil.",
        "A young orphan discovers they are the last descendant of an ancient order of magic users. As they train to master their powers, they uncover a dark conspiracy that threatens to destroy their world.",
        "A group of friends stumble upon a hidden portal to another dimension filled with fantastical creatures and breathtaking landscapes. They must navigate this new world while trying to find their way back home.",
        "In a world where magic is fading, a young wizard sets out on a quest to find the lost source of magic and restore it to its former glory.",
        "A young woman with the ability to control the elements discovers a hidden prophecy that foretells of a great battle between good and evil. She must embrace her destiny and become the hero her world needs.",
        "Explore a world where magic is a forbidden art. Follow the story of a young rebel who defies the law and uses their powers to help those in need.",
        "A group of adventurers embark on a perilous journey to find a legendary artifact that has the power to grant immortality. But they soon discover that the artifact is more dangerous than they ever imagined."
    ],
    "Science Fiction": [
        "In a future where Earth is uninhabitable, a group of astronauts embark on a perilous mission to colonize Mars. Explore the challenges they face, the discoveries they make, and the impact of their mission on humanity.",
        "A brilliant scientist develops a groundbreaking technology that has the potential to revolutionize human existence. However, the technology falls into the wrong hands, leading to a dystopian future.",
        "In a world where artificial intelligence has become sentient, a young AI grapples with their identity and purpose. Explore their journey of self-discovery and the ethical dilemmas they face.",
        "A group of rebels fight against a powerful corporation that controls the world's resources. Follow their struggle for freedom and the sacrifices they make to protect humanity.",
        "A time-traveling agent is sent back to prevent a catastrophic event that will change the course of history. But they soon discover that altering the past has unintended consequences.",
        "In a future where humans have evolved beyond their physical bodies, a group of individuals must confront the challenges of their new existence and the ethical implications of their enhanced abilities.",
        "A young woman wakes up to find herself in a virtual reality world where she can't distinguish between reality and simulation. As she explores this new world, she begins to question her own existence.",
        "A group of scientists discover a mysterious alien artifact that holds the key to unlocking the secrets of the universe. But the artifact also poses a threat to humanity.",
        "In a future where humans have lost touch with nature, a young botanist embarks on a quest to restore the planet's ecosystem and reconnect people with the natural world.",
        "A world where humans have developed the ability to upload their consciousness into a digital realm. Explore the ethical implications of this technology and the challenges faced by those who choose to live in this new reality."
    ],
    "Mystery": [
        "A reclusive writer is found dead in their isolated home. A young detective with a troubled past is assigned to the case and must unravel the complex web of secrets and lies surrounding the victim.",
        "A treasure hunter discovers an ancient map hidden within a priceless painting. As they follow the clues, they become entangled in a dangerous mystery with deadly consequences.",
        "A small town is rocked by a series of mysterious disappearances. A local journalist teams up with a retired detective to uncover the truth behind the vanishings.",
        "A renowned art collector acquires a painting with a dark history. As they delve deeper into the painting's origins, they uncover a hidden message that could lead to a shocking discovery.",
        "A young woman inherits a seemingly ordinary house from a distant relative. As she begins to explore the house, she discovers hidden rooms and cryptic clues that suggest a dark secret lies within its walls.",
        "A detective with a photographic memory is tasked with solving a complex murder case involving multiple suspects and a web of intricate lies.",
        "A group of friends on a camping trip stumble upon a hidden cave filled with ancient artifacts. As they explore the cave, they uncover a mystery that could change the course of history.",
        "A renowned psychic is hired to investigate a series of unexplained events at a haunted mansion. As they delve deeper into the mystery, they realize they may be in over their heads.",
        "A young woman with a unique ability to see glimpses of the future helps a detective solve a series of seemingly unrelated crimes. Together, they must race against time to prevent a catastrophic event.",
        "A detective with a troubled past is drawn into a dangerous world of espionage and intrigue. As they uncover a plot to undermine national security, they must protect themselves and their loved ones."
    ]
};
        const genres = Object.keys(prompts);
        const randomGenre = genres[Math.floor(Math.random() * genres.length)];
        const randomPrompt = prompts[randomGenre][Math.floor(Math.random() * prompts[randomGenre].length)];
        return randomPrompt;
    }

           document.getElementById("new-prompt-btn").addEventListener("click", () => {
        const newPrompt = fetchNewPrompt();
        document.getElementById("writing-prompt").innerText = newPrompt;
    });

    document.getElementById("editor-container").addEventListener("input", (event) => {
        const text = event.target.value;
        const words = text.trim().split(/\s+/);
        const lastWord = words[words.length - 1];
        const suggestion = suggestions[lastWord];
        if (suggestion) {
            event.target.value = text.slice(0, text.lastIndexOf(' ') + 1) + suggestion;
        }
        document.getElementById("word-count").innerText = `Word count: ${words.length}`;

        // Display congratulatory message based on word count
        let message = "";
	if (words.length >= 1) message = "You've started! Keep writing, you've got this!";
if (words.length >= 10) message = "Great job! You're building momentum!";
if (words.length >= 25) message = "Excellent! Your ideas are flowing!";
if (words.length >= 50) message = "Impressive! You're on a roll!";
if (words.length >= 75) message = "Fantastic! Your story is taking shape!";
if (words.length >= 100) message = "Amazing! You're a true writer!";
if (words.length >= 125) message = "Outstanding! Your creativity is shining!";
if (words.length >= 150) message = "Wow! You're really cooking now!";
if (words.length >= 200) message = "Incredible! Keep up the fantastic work!";
if (words.length >= 250) message = "Unbelievable! You're a writing rockstar!";
if (words.length >= 300) message = "Sensational! Your writing is captivating!";
if (words.length >= 350) message = "Exceptional! You're making great progress!";
if (words.length >= 400) message = "Magnificent! Your story is coming alive!";
if (words.length >= 450) message = "Phenomenal! Keep pushing the boundaries!";
if (words.length >= 500) message = "Congratulations! You've written a masterpiece!";
if (words.length >= 550) message = "Bravo! Your dedication is paying off!";
if (words.length >= 600) message = "Inspirational! Your writing is a true achievement!";
if (words.length >= 650) message = "Stupendous! You're a writing sensation!";
if (words.length >= 700) message = "Breathtaking! Your story is a work of art!";
if (words.length >= 750) message = "Don't forget to proofread and edit â€“ you're almost there!";
if (words.length >= 800) message = "You're on fire! Keep the momentum going!";
if (words.length >= 850) message = "Your writing is electrifying! Keep pushing the limits!";
if (words.length >= 1000) message = "Wow, 1000 words! Take a break, then review for consistency and flow.";
if (words.length >= 1050) message = "Remember to check for grammar, punctuation, and spelling errors.";
if (words.length >= 1100) message = "Your story is really taking shape! Consider getting feedback from beta readers.";
if (words.length >= 1150) message = "You're getting close! Make sure to edit and revise before calling it done.";
if (words.length >= 1200) message = "Keep going! You're almost at the finish line!";
if (words.length >= 1250) message = "Your dedication is paying off! Keep pushing forward!";
if (words.length >= 1300) message = "You're a writing machine! Keep the words flowing!";
if (words.length >= 1500) message = "Your story is a masterpiece! Take pride in your work!";
if (words.length >= 1750) message = "You're a rockstar writer! Keep shining!";
if (words.length >= 2000) message = "Congratulations! You've reached 2000 words! Take a moment to celebrate, then edit and polish.";
document.getElementById("congratulatory-message").innerText = message;
    });
	    // Handle story submission
    document.getElementById('publish-story').addEventListener('click', function(e) {
        e.preventDefault();
        var content = quill.root.innerHTML; // Get the HTML content with formatting
        alert("Content ready to be submitted:\n" + content);
        document.getElementById("publish-story").addEventListener("click", (event) => {
        event.preventDefault();
        const text = document.getElementById("writing-textbox").value;
        const words = text.trim().split(/\s+/);
        const wordCount = words.length;

        // Submit the form
        event.target.closest("form").submit();
    });

        // Update progress in Firestore
        onAuthStateChanged(auth, (user) => {
            if (user) {
                updateProgress(user.uid, wordCount);
            }
        });
    });

	// Dark mode toggle with multiple colors
    let themeIndex = 0;
    const themes = ["#333", "#006400", "#FFD700", "#8B0000", "#0000CD", "#800080", "#FF69B4", "#FFA500"];
    function applyTheme(themeIndex) {
        document.body.style.backgroundColor = themes[themeIndex];
        document.body.style.color = themeIndex === 0 ? "#fff" : "#000";
        document.querySelectorAll('.profile-container, .writing-container, .book-reader-container, .library-container, .cover-maker-container,').forEach((element) => {
            element.style.backgroundColor = themes[themeIndex];
        });
    }

    document.getElementById("dark-mode-toggle").addEventListener("click", () => {
        themeIndex = (themeIndex + 1) % themes.length;
        applyTheme(themeIndex);
    });

    document.querySelectorAll('.theme-toggle').forEach((button) => {
        button.addEventListener("click", (event) => {
            themeIndex = (themeIndex + 1) % themes.length;
            event.currentTarget.closest('.profile-container, .comic-maker-container, .writing-container, .book-reader-container, .library-container, .cover-maker-container').style.backgroundColor = themes[themeIndex];
        });
    });

	
    // Authentication state observer
    onAuthStateChanged(auth, (user) => {
        if (user) {
            const userId = user.uid;
            document.getElementById("user-name").innerText = user.displayName;
            document.getElementById("user-email").innerText = user.email;
            document.getElementById("user-username").innerText = user.displayName;
            document.getElementById("profile-photo").src = user.photoURL;

            // Fetch user data from Firestore
            const userRef = doc(db, "users", userId);
            getDoc(userRef).then((doc) => {
                if (doc.exists()) {
                    const userData = doc.data();
                    document.getElementById("user-username").innerText = userData.username;
                    document.getElementById("user-email").innerText = userData.email;
                    document.getElementById("user-level").innerText = "9jahotblogger";
                } else {
                    console.log("No such document!");
                }
            }).catch((error) => {
                console.log("Error getting document:", error);
            });
        } else {
            window.location.href = "login-page.html";
        }
    });

    document.getElementById("logout").addEventListener("click", () => {
        signOut(auth).then(() => {
            window.location.href = "login-page.html";
        }).catch((error) => {
            console.error("Error signing out:", error);
        });
    });

	// Handle edit profile
document.getElementById("edit-profile").addEventListener("click", () => {
    const newUsername = prompt("Enter new username (leave blank to keep current):");
    const newEmail = prompt("Enter new email (leave blank to keep current):");
    const newPhotoURL = prompt("Enter new photo URL (leave blank to keep current):");

    const user = auth.currentUser;

    if (user) {
        const updates = {};

        // Check if new values are provided, and if so, add them to the updates object
        if (newUsername) {
            updates.displayName = newUsername;
        }
        if (newPhotoURL) {
            updates.photoURL = newPhotoURL;
        }

	// Update profile if there are changes in displayName or photoURL
        const updateProfilePromise = Object.keys(updates).length > 0 ? updateProfile(user, updates) : Promise.resolve();

        updateProfilePromise
            .then(() => {
                // Update email if it's provided
                if (newEmail) {
                    return updateEmail(user, newEmail);
                }
            })
            .then(() => {
                // Update the Firestore document if any updates were made
                if (newUsername || newEmail || newPhotoURL) {
                    const userRef = doc(db, "users", user.uid);
                    const firestoreUpdates = {};

                    if (newUsername) firestoreUpdates.username = newUsername;
                    if (newEmail) firestoreUpdates.email = newEmail;
                    if (newPhotoURL) firestoreUpdates.photoURL = newPhotoURL;

                    return updateDoc(userRef, firestoreUpdates);
                }
            })
            .then(() => {
                // Update the UI
                if (newUsername) document.getElementById("user-username").innerText = newUsername;
                if (newEmail) document.getElementById("user-email").innerText = newEmail;
                if (newPhotoURL) document.getElementById("profile-photo").src = newPhotoURL;

                alert("Profile updated successfully! Please refresh the page to see the changes.");
            })
	      .catch((error) => {
                console.error("Error updating profile:", error);
                alert("An error occurred while updating the profile. Please try again.");
            });
    } else {
        alert("No user is currently signed in.");
    }
});

</script>
</div>
</body>
</html>
